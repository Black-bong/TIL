# 리펙터링 강의

## 좋은 이름 짖기

### 좋은 이름이란?
- 어떤 역활을 하는지, 어떻게 쓰이는지 직관적으로 알 수 있는 이름

### Change Function Declaration
- 좋은 이름을 가진 함수는 코드를 보지 않아도, 이름만으로 이해할 수 있게된다.
- 주석을 사용해서, 함수가 하는 작업에 대한 내용을 작성해보고 그 주석을 바탕으로 이름을 지어보자.

### Rename Variable
- 자주 사용되는 변수일수록 그 이름이 더 중요하다.

### Rename Field
- Record 자료 구조의 필드 이름은 프로그램 전반에 걸쳐 참조될 수 있기 때문에 매우 중요하다.
- Record 자료 구조: 특정 데이터와 관련있는 필드를 묶어놓은 자료구조(JDK14 버전부터 사용 가능)

## 중복 코드
- 완전히 동일한 코드 또는 비슷한 코드가 여러 하위 클래스에 존재하여 중복되는 경우
- 코드의 구조가 비슷한 경우 

### Extract Function
- 동일한 코드를 여러 메소드에서 사용하는 경우
- 의도와 구현을 분리
	- 의도와 구현을 구분하는것은 주관적
	- 의도: 코드를 읽는데 어떤일을 하는지 파악이 잘된다면 의도로 구분
	- 구현: 코드를 읽는데 이해가 안되고, 이해하는데 시간이 들어간다면 구현으로 구분
- 의도를 잘 드러낼수 있으면 한줄짜리 매서드도 좋다.

### Slide Statements
- 코드가 비슷하지만, 완전히 같지는 않은 경우
- 관련있는 코드끼리 묶어야 코드를 더 쉽게 이해할 수 있다.
- 관련있는 코드끼리 묶고, 메서드 추출을 사용하면 더 깔끔한 분리가 가능하다.
- 사용하는 변수는 해당 변수가 사용되기 바로 직전에 선언하는것을 좀 더 선호한다.

### Pull Up Method
- 여러 하위 클래스에 동일한 코드가 존재하는 경우
- 중복 코드는 지금은 문제가 없더라도, 추후에 문제가 발생할 가능성이 높다.
- 비슷하지만 일부 값만 다른 경우: Extract Function 리팩토링을 적용한 이후 이 방법을 사용할 수 있다.
- 두 메서드가 비슷한 절차를 따르고 있는 경우: 템프릿 메서드 패턴 적용을 고려할 수 있다.

## 긴 함수
- 짧은 함수 vs 긴 함수
	- 함수가 길 수록 더 이해하기 어렵다 vs 짧은 함수는 더 많은 문맥 전환을 필요로 한다.
	- 예전에는 많은 문맥 전환으로 인해 콜스택이 쌓이면서 성능에 문제가 있었으나, 지금은 최적화로 인해 콜스택까지 생각하며 코딩할 필요까지는 없게되었다.
- 작은 함수 + 좋은 이름 = 코드를 보지 않아도 이해가능

### Replace Temp with Query
- 긴 함수를 리팩토링할 때 임시 변수를 함수로 추출하여 분리하면, 추출한 함수로 전달해야 할 매개변수를 줄일 수 있다.

### Intriduce Parameter Object
- 같은 매개변수들이 여러 메서드에 걸쳐 나타난다면 그 매개변수들을 묶은 자료 구조를 만들 수 있다.

### Preserve Whole Object
- 어떤 한 레코드에서 구할 수 있는 여러 값들을 함수에 전달하는 경우, 해당 매개변수를 레코드 하나로 교체할 수 있다.
- 이 기술을 적용하기 전에 의존성을 고려해야 한다.

### Decompose Conditional
- 여러 조건에 따라 달라지는 코드를 작성하다보면 종종 긴 함수가 만들어진다.
- 조건과 액션 모두 의도를 표현해야한다.

### Split Loop

### Replace Conditional with Polymorphism
- 함수를 독립적인 객체인, Command로 만들어 사용할 수 있다.

# REFERENCE
[코딩으로 학습하는 리펙토링](https://www.inflearn.com/course/리팩토링/dashboard)
