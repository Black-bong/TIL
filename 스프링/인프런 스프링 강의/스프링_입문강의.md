# 스프링 입문강의
---
>인프런에서 김영한님의 스프링 입문강의를 보고 요약, 정리한 글입니다.
>>출처: https://www.inflearn.com/course/스프링-핵심-원리-기본편/dashboard
---
# 1.프로젝트 환경설정

## 라이브러리
### 웹관련
- tomcat
    - 톰캣(웹서버)
- webmvc
    - 스트링 웹 mvc
### 로그관련
- logback
    - 성능도 좋고 여러 지원하는 기능이 많아 요즘 많이 사용
- slf4j
### 테스트관련
- junit5
    - 대부분 이걸사용
- mockito
    - 목 라이브러리
## View설정
### Welcome Page
- `static/index.html` 을 올려두면 Welcom page 기능이 작동되어 index.html을 화면에 띄어준다.
- [https://docs.spring.io/spring-boot/docs/2.6.1/reference/htmlsingle/#web.servlet.spring-mvc.welcome-page](https://docs.spring.io/spring-boot/docs/2.6.1/reference/htmlsingle/#web.servlet.spring-mvc.welcome-page)
### thymeleaf
- 템플릿 엔진
- [https://docs.spring.io/spring-boot/docs/2.6.1/reference/htmlsingle/#web.servlet.spring-mvc.template-engines](https://docs.spring.io/spring-boot/docs/2.6.1/reference/htmlsingle/#web.servlet.spring-mvc.template-engines)

## controller
- webapplication에서의 첫번째 진입점
- `@Controller` 어노테이션 사용
    
    ```java
    @Controller
    public class HelloController {
    
      @GetMapping("hello")
      public String hello(Model model) {
        model.addAttribute("data", "hello!");
        return	"hello";
      }
    }
    ```   
    - 컨트롤러에서 리턴 값으로 문자를 반환하면 뷰 리졸버가 화면을 찾아서 처리한다.
    - `model.addAttribute("data", "hello")` → 모델의 data값으로 hello!를 추가
## 빌드하고 실행하기
1. 콘솔로 이동
2. `./gralew build` 입력
3. `cd build/libs` 입력
4. `java -jar hello-spring-0.0.1-SNAPSHOT.jar` 입력
5. 실행 확인
6. 잘안되면 `./gradlew clean build` 입력해서 `build`를 초기화하고 다시 처음부터 해보기

# 2.스프링 웹 개발 기초
### 정적컨텐츠
- 내장 톰켓서버에서 스프링 컨테이너에 `.html` 관련 컨트롤러가 있는지 확인 후 없으면 `resources/static`안에서 찾아보고 있으면 그대로 반환
- [https://docs.spring.io/spring-boot/docs/2.6.1/reference/htmlsingle/#web.servlet.spring-mvc.static-content](https://docs.spring.io/spring-boot/docs/2.6.1/reference/htmlsingle/#web.servlet.spring-mvc.static-content)
### MVC와 템플릿 엔진
- Controller
- Model    
    ```java
    @Controller
    public class HelloController {
    
      @GetMapping("hello")
      public String hello(Model model) {
        model.addAttribute("data", "hello!");
        return	"hello";
      }
      @GetMapping("hello-mvc")
      public String helloMvc(@RequestParam("name") String name, Model model) {
        model.addAttribute("name", name);
        return "hello-template"
      }
    }
    ```    
- View   
    `resources/template/hellp-template.html`    
    ```html
    <html xmlns:th="http://www.thymeleaf.org">
      <body>
        <p th:text="'hello ' + ${name}">hello! empty</p>
      </body>
    </html>
    ...
    ```  
    - parameter(ex:localhost:8080/hello-mvc?name=Spring!!)로 name을 넘겨주면 model에서(name:spring) viewResolver로 값을 넘겨 화면 출력
    - 화면 출력은 Thymeleaf 템플릿 엔진이 처리
    
    ### API
